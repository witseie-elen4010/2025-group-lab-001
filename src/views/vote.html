<!DOCTYPE html>
<html lang="en">
  <style>
    @font-face {
      font-family: 'body';
      src: url('/fonts/body.ttf') format('truetype');
      font-weight: normal;
      font-style: normal;
      font-display: swap;
    }
    
    @font-face {
      font-family: 'heading';
      src: url('/fonts/heading.ttf') format('truetype');
      font-weight: normal;
      font-style: normal;
      font-display: swap;
    }
    
    body {
      font-family: 'body';
      background-color: #97EAF4;
      background-image: url('/assets/flamingos screen 9.png');
      background-size: 30%;
      background-position: 200px 70px; /* X-position Y-position in pixels */
      background-repeat: no-repeat;
      image-rendering: pixelated;  /* For Chrome/Edge */
      image-rendering: crisp-edges; /* For Firefox */
      -ms-interpolation-mode: nearest-neighbor; /* For IE */
    }
    
    h1, h2, h3, h4, h5, h6 {
      font-family: 'heading';
       margin-bottom: 20px;
       margin-top: 10px;
    }

    button {
      background-image: url('/assets/button 1.png');
      background-size: 100% 100%; /* Cover the entire button */
      background-repeat: no-repeat;
      background-color: transparent; /* Remove default background */
      border: none; /* Remove default border */
      font-family: 'heading';
      font-size: 1em;
      color: #000; /* Text color - adjust if needed */
      cursor: pointer;
      text-align: bottom;
      min-width: 120px; /* Set a minimum width for the button */
      min-height: 40px; /* Set a minimum height for the button */
      margin: 12px 10px; /* Add vertical and horizontal margins for spacing */
      vertical-align: middle; /* Changed from middle to bottom alignment */
      position: relative; /* Enable fine positioning */
      top: 20px; /* Move button down slightly relative to its normal position */
      display: inline-block; /* Ensures proper margin behavior */
      margin-bottom: 20px;
      margin-top: 10px;
    }
    
    .button-container {
      margin: 20px 0; /* Add space above and below button groups */
      display: flex;
      gap: 15px; /* Space between buttons when in a container */
    }
    
    /* Optional: Add hover and active effects */
    button:hover {
      transform: scale(1.05);
    }
    
    button:active {
      transform: scale(0.95);
    }
    
    /* Styling for player options */
    .player-option {
      display: block;
      margin: 10px 0;
      padding: 8px;
      background-color: rgba(255, 255, 255, 0.7);
      border-radius: 5px;
      cursor: pointer;
    }
    
    .player-option:hover {
      background-color: rgba(255, 255, 255, 0.9);
    }
    
    .player-option input[type="radio"] {
      margin-right: 10px;
    }
    
    #errorDisplay {
      color: red;
      font-weight: bold;
      margin: 15px 0;
    }
    
    #statusMessage {
      margin: 15px 0;
      padding: 10px;
      background-color: rgba(255, 255, 255, 0.7);
      border-radius: 5px;
    }
    
    input {
      font-family: 'body';
      font-size: 1em;
    }
    
    ::placeholder {
      font-family: 'body';
      opacity: 0.7; /* Make placeholder slightly transparent teehee*/
    }
</style>
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Voting Page</title>
</head>
<body>
  <h1>Vote to Eliminate a Player</h1>
  <div id="statusMessage" style="display: none;"></div>
  
  <form id="voteForm">
    <p>Select a player to vote out:</p>
    <div id="playerList">
      <!-- Player options will be inserted here by JavaScript -->
      <!-- Example structure (will be generated by JS):
      <label class="player-option">
        <input type="radio" name="selectedPlayer" value="player1" required> Player 1
      </label>
      -->
    </div>
    <button type="submit">Submit Vote</button>
  </form>
  
  <div id="errorDisplay"></div>
  
  <script src="/socket.io/socket.io.js"></script>
  <script>
    // Basic connection check
    document.addEventListener('DOMContentLoaded', () => {
      const socket = io();
      const statusMessage = document.getElementById('statusMessage');
      const playerList = document.getElementById('playerList');
      const voteForm = document.getElementById('voteForm');
      const errorDisplay = document.getElementById('errorDisplay');
      
      // No initial connection message
      
      socket.on('connect', () => {
        // Request player list without showing message
        socket.emit('getPlayers');
      });
      
      socket.on('disconnect', () => {
        errorDisplay.textContent = 'Lost connection to the server. Please refresh the page.';
      });
      
      // This is a backup for the main vote.js script
      voteForm.addEventListener('submit', function(e) {
        e.preventDefault();
        const selectedPlayer = document.querySelector('input[name="selectedPlayer"]:checked');
        
        if (!selectedPlayer) {
          errorDisplay.textContent = 'Please select a player to vote for.';
          return;
        }
        
        errorDisplay.textContent = '';
        // No submission status message
        
        socket.emit('submitVote', {
          playerId: selectedPlayer.value
        });
      });
    });
  </script>
  <script src="/scripts/vote.js" defer></script>
</body>
</html>